{"version":3,"sources":["screens/App/index.js","index.js"],"names":["initialState","rut","dv","isLoading","App","useState","state","setState","a","prevState","cogoToast","error","fetch","process","response","json","jsonResponse","data","success","console","log","useEffect","className","htmlFor","name","value","id","onChange","event","target","isNaN","autoComplete","disabled","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uQAIMA,EAAe,CACnBC,IAAK,GACLC,GAAI,GACJC,WAAW,GA4GEC,MAzGf,WAAgB,IAAD,EACaC,mBAASL,GADtB,mBACNM,EADM,KACCC,EADD,KAGLN,EAAuBK,EAAvBL,IAAKC,EAAkBI,EAAlBJ,GAAIC,EAAcG,EAAdH,UAHJ,4CA0Bb,8BAAAK,EAAA,kEAESP,EAFT,uBAGIM,GAAS,SAACE,GAAD,mBAAC,eACLA,GADI,IAEPP,GAAI,QALV,kBAQaQ,IAAUC,MACf,+DATR,cAaIJ,GAAS,SAACE,GAAD,mBAAC,eACLA,GADI,IAEPP,GAAI,GACJC,WAAW,OAhBjB,SAmB2BS,MAAM,GAAD,OACvBC,iCADuB,kBACgBZ,IApBhD,cAmBUa,EAnBV,iBAsB+BA,EAASC,OAtBxC,aAsBUC,EAtBV,UAwBwBA,EAAaC,KAxBrC,wBAyBMV,GAAS,SAACE,GAAD,mBAAC,eACLA,GADI,IAEPP,GAAIc,EAAaC,KACjBd,WAAW,OA5BnB,kBA8BaO,IAAUQ,QAAQ,+CA9B/B,0DAiCIX,GAAS,SAACE,GAAD,mBAAC,eACLA,GADI,IAEPP,GAAI,GACJC,WAAW,OAGbO,IAAUC,MAAV,MACAQ,QAAQC,IAAR,MAxCJ,2DA1Ba,sBAsEb,OAjEAC,qBAAU,WACPd,GAAS,SAACE,GAAD,mBAAC,eACNA,GADK,IAERP,GAAI,UAGL,CAACD,IA4DF,sBAAKqB,UAAU,YAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,eAAd,iDAEF,sBAAKA,UAAU,wBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,wBAAOC,QAAQ,WAAf,gBAEE,sBAAMD,UAAU,cAAhB,yCAEF,uBACEE,KAAK,MACLC,MAAOxB,EACPqB,UAAU,WACVI,GAAG,WACHC,SA1EZ,SAAgBC,GAAQ,IACdH,EAAUG,EAAMC,OAAhBJ,MAEM,OAAVA,GAAkBK,MAAML,IAI5BlB,GAAS,SAACE,GAAD,mBAAC,eACLA,GADI,IAEPR,IAAKwB,QAkEGM,aAAa,WAGjB,sBAAKT,UAAU,WAAf,UACE,uBAAOC,QAAQ,KAAf,gBACA,uBAAOD,UAAU,KAAKI,GAAG,KAAKD,MAAOvB,EAAI8B,UAAQ,UAGrD,wBAAQV,UAAU,mBAAmBW,QAhG9B,2CAgGP,SACG9B,EAAY,cAAgB,uBCtGvC+B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.359e98cc.chunk.js","sourcesContent":["import cogoToast from \"cogo-toast\";\nimport { useEffect, useState } from \"react\";\nimport \"./index.css\";\n\nconst initialState = {\n  rut: \"\",\n  dv: \"\",\n  isLoading: false,\n};\n\nfunction App() {\n  const [state, setState] = useState(initialState);\n\n  const { rut, dv, isLoading } = state;\n\n  useEffect(() => {\n     setState((prevState) => ({\n      ...prevState,\n      dv: '',\n    }));\n\n  }, [rut])\n\n  function setRut(event) {\n    const { value } = event.target;\n\n    if (value !== null && isNaN(value)) {\n      return;\n    }\n\n    setState((prevState) => ({\n      ...prevState,\n      rut: value,\n    }));\n  }\n\n  async function handleCalculateClick() {\n    try {\n      if (!rut) {\n      setState((prevState) => ({\n        ...prevState,\n        dv: '',\n      }));\n\n        return cogoToast.error(\n          \"Debes ingresar un rut para calcular el digito verificador.\"\n        );\n      }\n\n      setState((prevState) => ({\n        ...prevState,\n        dv: '',\n        isLoading: true,\n      }));\n\n      const response = await fetch(\n        `${process.env.REACT_APP_API_URI}/getDv/${rut}`\n      );\n      const jsonResponse = await response.json();\n\n      if (jsonResponse && jsonResponse.data) {\n        setState((prevState) => ({\n          ...prevState,\n          dv: jsonResponse.data,\n          isLoading: false,\n        }));\n        return cogoToast.success(\"Digito verificador calculado con Ã©xito!\");\n      }\n    } catch (error) {\n      setState((prevState) => ({\n        ...prevState,\n        dv: '',\n        isLoading: false,\n      }));\n\n      cogoToast.error(error);\n      console.log(error);\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <h1 className=\"header__text\">Calculadora de digito verificador</h1>\n      </div>\n      <div className=\"input-group-container\">\n        <div className=\"input-group\">\n          <div className=\"main-rut-group\">\n            <label htmlFor=\"main-rut\">\n              RUT\n              <span className=\"sin-dv-span\">(sin digito verificador)</span>\n            </label>\n            <input\n              name=\"rut\"\n              value={rut}\n              className=\"main-rut\"\n              id=\"main-rut\"\n              onChange={setRut}\n              autoComplete=\"off\"\n            />\n          </div>\n          <div className=\"dv-group\">\n            <label htmlFor=\"dv\">DV</label>\n            <input className=\"dv\" id=\"dv\" value={dv} disabled />\n          </div>\n        </div>\n        <button className=\"calculate-button\" onClick={handleCalculateClick}>\n          {isLoading ? \"Cargando...\" : \"Calcular DV\"}\n        </button>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './screens';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}